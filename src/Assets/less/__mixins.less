/**
 * General Mixins.
 *
 * Licensed under The MIT License
 * Redistributions of files must retain the below copyright notice.
 *
 * @copyright Frank Förster (http://frankfoerster.com)
 * @license   MIT License (http://www.opensource.org/licenses/mit-license.php)
 */

.clearfix() {
  &:before, &:after {
    content: "";
    display: table;
  }
  &:after {
    clear: both;
  }
  .lt-ie7 & {
    zoom: 1;
  }
}

.single-icon(@content: "", @top: 5px, @fs: 24px) {
  display: inline-block;
  position: relative;
  top: @top;
  font-family: sandstein_karneol, serif;
  font-size: @fs;
  font-weight: normal;
  font-style: normal;
  text-decoration: none;
  content: @content;
}

.border-radius(@radius: 5px) {
  -webkit-border-radius: @arguments; /* Safari 3-4, iOS 1-3.2, Android ≤1.6 */
  border-radius: @arguments; /* Opera 10.5, IE9+, Safari 5, Chrome, Firefox 4+, iOS 4, Android 2.1+ */

  // prevent bg colors to leak outside the border
  -webkit-background-clip: padding-box;
  -moz-background-clip: padding;
  background-clip: padding-box;
}

.box-sizing(@type: border-box) {
  -webkit-box-sizing: @type; /* <=iOS4, <= Android  2.3 */
  -moz-box-sizing: @type; /* Firefox 1+ */
  box-sizing: @type; /* Chrome, IE8+, Opera, Safari 5.1*/
}

.box-shadow(...) {
  -webkit-box-shadow: @arguments; /* Safari 3-4, iOS 4.0.2 - 4.2, Android 2.3+ */
  box-shadow: @arguments; /* Opera 10.5, IE9+, Firefox 4+, Chrome 6+, iOS 5 */
}

.text-shadow(...) {
  -webkit-text-shadow: @arguments;
  -moz-text-shadow: @arguments;
  -ms-text-shadow: @arguments;
  -o-text-shadow: @arguments;
  text-shadow: @arguments;
}

.transition(...) {
  -webkit-transition: @arguments;
  -moz-transition: @arguments;
  -o-transition: @arguments;
  transition: @arguments;
}

.transition-transform(@transition) {
  -webkit-transition: -webkit-transform @transition;
  -moz-transition: -moz-transform @transition;
  -o-transition: -o-transform @transition;
  transition: transform @transition;
}

.transition-property(@transition-property) {
  -webkit-transition-property: @transition-property;
  -moz-transition-property: @transition-property;
  -o-transition-property: @transition-property;
  transition-property: @transition-property;
}

.transition-duration(@transition-duration) {
  -webkit-transition-duration: @transition-duration;
  -moz-transition-duration: @transition-duration;
  -o-transition-duration: @transition-duration;
  transition-duration: @transition-duration;
}

.transition-timing-function(@timing-function) {
  -webkit-transition-timing-function: @timing-function;
  -moz-transition-timing-function: @timing-function;
  -o-transition-timing-function: @timing-function;
  transition-timing-function: @timing-function;
}

.transform(@transform) {
  -webkit-transform: @transform;
  -moz-transform: @transform;
  -ms-transform: @transform;
  -o-transform: @transform;
  transform: @transform;
}

.transform-origin(@origin) {
  -webkit-transform-origin: @origin;
  -moz-transform-origin: @origin;
  -ms-transform-origin: @origin;
  -o-transform-origin: @origin;
  transform-origin: @origin;
}

.opacity(@value: .5) {
  opacity: @value; /* Chrome 4+, Firefox 2+, Safari 3.1+, Opera 9+, IE9+, iOS 3.2+, Android 2.1+ */
  filter: e(%("alpha(opacity=%d)", @value * 100));
  //filter: ~'progid:DXImageTransform.Microsoft.Alpha(opacity=(@value*100))';
  //-ms-filter: ~'"progid:DXImageTransform.Microsoft.Alpha(opacity=(@value*100))"';
}

.inline-block() {
  display: inline-block;
  zoom: 1;
  *display: inline;
}

.visuallyhidden() {
  position: absolute;
  overflow: hidden;
  clip: rect(0 0 0 0);
  height: 1px; width: 1px;
  margin: -1px; padding: 0; border: 0;
}

.flexbox() {
  display: -webkit-box;
  display: -moz-box;
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
}

.flex(@values) {
  -webkit-box-flex: @values;
  -moz-box-flex:  @values;
  -webkit-flex:  @values;
  -ms-flex:  @values;
  flex:  @values;
}

.order(@val) {
  -webkit-box-ordinal-group: @val;
  -moz-box-ordinal-group: @val;
  -ms-flex-order: @val;
  -webkit-order: @val;
  order: @val;
}

.disable-touch-callout() {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.disable-select() {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.ellipsis() {
  -ms-text-overflow: ellipsis;
  -o-text-overflow: ellipsis;
  text-overflow: ellipsis;
}

.gradient-horizontal(@start-color, @end-color, @fallback-color) {
  background-color: @fallback-color;
  background-repeat: repeat-y;
  background-image: -webkit-gradient(linear, left top, right top, color-stop(0%, @start-color), color-stop(100%, @end-color)); /* Chrome 2+, Safari4+ */
  background-image: -webkit-linear-gradient(left, @start-color 0%, @end-color 100%); /* Chrome 10.0 - 25.0, Safari 5.1 - 6.0 */
  background-image:    -moz-linear-gradient(left, @start-color 0%, @end-color 100%); /* FF 3.6 - 15.0 */
  background-image:      -o-linear-gradient(left, @start-color 0%, @end-color 100%); /* Opera 11.10 - 12.00 */
  background-image:     linear-gradient(to right, @start-color 0%, @end-color 100%); /* W3C */
  filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=1)", @start-color, @end-color)); /* IE6-9 */
}

.gradient-vertical(@start-color, @end-color, @fallback-color) {
  background-color: @fallback-color;
  background-repeat: repeat-x;
  background-image: -webkit-gradient(linear, left top, left bottom, color-stop(0%, @start-color), color-stop(100%, @end-color)); /* Chrome 2+, Safari 4+ */
  background-image: -webkit-linear-gradient(top, @start-color 0%, @end-color 100%); /* Chrome 10.0 - 25.0, Safari 5.1 - 6.0 */
  background-image:    -moz-linear-gradient(top, @start-color 0%, @end-color 100%); /* FF 3.6 - 15.0 */
  background-image:      -o-linear-gradient(top, @start-color 0%, @end-color 100%); /* Opera 11.10 - 12.00 */
  background-image:   linear-gradient(to bottom, @start-color 0%, @end-color 100%); /* W3C */
  filter: e(%("progid:DXImageTransform.Microsoft.gradient(startColorstr='%d', endColorstr='%d', GradientType=0)", @start-color, @end-color)); /* IE6-9 */
}

// WebKit-style focus
.tab-focus() {
  // Default
  outline: thin dotted;
  // WebKit
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}

// Responsive image
//
// Keep images from scaling beyond the width of their parents.
.img-responsive(@display: block;) {
  display: @display;
  max-width: 100%; // Part 1: Set a maximum relative to the parent
  height: auto; // Part 2: Scale the height according to the width, otherwise you get stretching
}

// Button variants
.button-variant(@color; @background; @border) {
  color: @color;
  background-color: @background;
  border-color: @border;

  &:hover,
  &:focus,
  &:active,
  &.active,
  .open .dropdown-toggle& {
    color: @color;
    background-color: @background;
    border-color: darken(@border, 8%);
  }
  &:active,
  &.active,
  .open .dropdown-toggle& {
    background-image: none;
  }
  &.disabled,
  &[disabled],
  fieldset[disabled] & {
    &,
    &:hover,
    &:focus,
    &:active,
    &.active {
      background-color: @background;
      border-color: @border
    }
  }
}

// Reset filters for IE
//
// When you need to remove a gradient background, do not forget to use this to reset
// the IE filter for IE9 and below.
.reset-filter() {
  filter: e(%("progid:DXImageTransform.Microsoft.gradient(enabled = false)"));
}

.text-rendering(@value) {
  -webkit-text-rendering: @value;
  -moz-text-rendering: @value;
  -ms-text-rendering: @value;
  -o-text-rendering: @value;
  text-rendering: @value;
}

.font-smooting(@value) {
  -webkit-font-smoothing: @value;
  -moz-font-smoothing: @value;
  -ms-font-smoothing: @value;
  -o-font-smoothing: @value;
  font-smoothing: @value;
}

.font-feature-settings(@values) {
  -webkit-font-feature-settings: @values;
  -moz-font-feature-settings: @values;
  -ms-font-feature-settings: @values;
  -o-font-feature-settings: @values;
  font-feature-settings: @values;
}

.subtractFrom100Percent(@value) {
  @subtractFrom100Percent: 100% ~"-" @value;
}

.user-select(@select) {
  -webkit-user-select: @select;
  -moz-user-select: @select;
  -ms-user-select: @select; // IE10+
  user-select: @select;
}

.keyframes(@name; @arguments) {
  @-webkit-keyframes @name { @arguments(); }
  @-moz-keyframes @name { @arguments(); }
  @-ms-keyframes @name { @arguments(); }
  @keyframes @name { @arguments(); }
}

.animation(@content) {
  -webkit-animation: @content;
  -moz-animation: @content;
  -o-animation: @content;
  animation: @content;
}

.animation-delay(@content) {
  -webkit-animation-delay: @content;
  -moz-animation-delay: @content;
  -o-animation-delay: @content;
  animation-delay: @content;
}
